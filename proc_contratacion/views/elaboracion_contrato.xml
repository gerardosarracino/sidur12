<odoo>
  <data>
      <!-- <act_window id="Catalogo"
    name="Catalogó"
    src_model="proceso.adjudicacion_partidas"
    res_model="proceso.conceptos_contratos"
    view_type="form" view_mode="form"
    multi="False"
    key2="client_action_multi" target="current"
    /> -->

 <!-- <record model="ir.actions.act_window" id="action_conceptos">
        <field name="name">Conceptos Contratados</field>
        <field name="res_model">proceso.cc_partidas</field>
        <field name="view_type">form</field>
        <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'form', 'view_id': ref('proceso_cc_partidas_form')})]"/>
    </record> -->

<!--CONCEPTOS CATALOGO FORM -->
    <!-- <record id="proceso_conceptos_contratos" model="ir.ui.view">
        <field name="name">proceso.conceptos_model.form</field>
        <field name="model">proceso.conceptos_contratos</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>

                        <group colspan="2" col="2">
                            <group string="Catálogo de Niveles/Conceptos del Contrato:"></group>
                            <group><field name="name" string="" class="o_light_label"/></group>
                        </group>

                        <group colspan="2" col="3">
                            <group><field name="total" /></group>
                            <group> <field name="total_contrato"/></group>
                            <group><field name="diferencia"  class="o_light_label"/></group>
                        </group>


                        <field name="conceptos_partidas" string="# Concepto de partidas" widget='one2many'>
                            <tree editable="top">
                                <control>
                                    <create string="Agregar Nivel"/>
                                </control>
                                <field name="categoria" />
                                <field name="concepto"/>
                                <field name="grupo"/>
                                <field name="medida"/>
                                <field name="precio_unitario"/>
                                <field name="cantidad"/>
                                <field name="importe" sum="importe"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record> -->

    <!-- LICITACIONES  TREE-->
    <record model="ir.ui.view" id="proc_contratacion.elaboracion_contratos_tree">
      <field name="name">proceso.elaboracion_contrato.tree</field>
      <field name="model">proceso.elaboracion_contrato</field>
      <field name="arch" type="xml">
        <tree>
          <field name="fecha"/>
          <field name="contrato" string="# Contrato"/>
          <field name="obra" attrs="{'invisible': [('adjudicacion','!=', False)]}" string="Objeto Licitaciones"/>
          <field name="adjudicacion" attrs="{'invisible': [('obra','!=', False)]}" string="/ Adjudicaciones Directas"/>
          <field name="contratista"/>
        </tree>
      </field>
    </record>

    <!-- ELABORACION DE CONTRATO SEARCH-->
      <record model="ir.ui.view" id="proceso_contrato_search">
         <field name="name">elaboracion contrato</field>
         <field name="model">proceso.elaboracion_contrato</field>
         <field name="arch" type="xml">
            <search>
                  <field name="fecha"/>
                  <field name="contrato" string="# Contrato"/>
                  <field name="obra"  string="Objeto Licitaciones"/>
                  <field name="adjudicacion"  string="/ Adjudicaciones Directas"/>
                  <field name="contratista"/>
            </search>
         </field>
        </record>

    <!-- ELABORACION DE CONTRATO FORM-->
    <record model="ir.ui.view" id="proc_contratacion.elaboracion_contrato_form">
      <field name="name">proceso.elaboracion_contrato.form</field>
      <field name="model">proceso.elaboracion_contrato</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
              <div class="oe_button_box oe_read_only" name="button_box">
                    <button class="oe_stat_button" type="object" name="finiquitarContrato" context="{
                       'search_default_contrato': active_id,
                       'default_contrato': active_id
                       }" icon="fa-clock-o" string=' FiniquitarContratoAnticipadamente'>
                     </button>
                     <button class="oe_stat_button" type="object" name="conveniosModificados" context="{
                       'search_default_contrato': active_id,
                       'default_contrato': active_id
                       }" icon="fa-pencil-square-o" string='Convenios Modificados' >
                     </button>
                </div>
            <notebook colspan="1" col="2">
                    <page string="Datos Generales" icon="fa-bitbucket">
                         <group colspan="1" col="2">
                             <group string="Contrato Datos Generales" colspan="1" col="2">
                              <field name="obra" string="Seleccionar Licitacion"  />
                                <field name="adjudicacion" />

                                 <field name="contrato_partida" widget='one2many'>
                                    <tree >
                                        <field name="name" />
                                        <field name="programaInversion" />
                                        <field name="monto_partida" sum="Monto" widget="monetary"/>
                                        <field name="iva_partida" readonly="True" sum="I.V.A" widget="monetary"/>
                                        <field name="total_partida" readonly="True" sum="Total" widget="monetary"/>

                                </tree>
                                </field>

                                <field name="fecha" class="oe_inline"/>
                                <field name="contrato"/>
                                <field name="name"/>
                                <field name="descripciontrabajos"/>
                                <field name="unidadresponsableejecucion"/>
                                <field name="supervisionexterna"/>
                                <field name="supervisionexterna1"/>
                             </group>

                             <!-- attrs="{'invisible': [('obra' and 'adjudicacion', '=', False)]}" -->
                             <group colspan="1" col="2" >
                                 <field name="importe_contrato"/>
                                 <field name="iva_contrato"/>
                                 <field name="portentaje_iva_contrato"/>
                                 <field name="total_contrato"/>
                             </group>

                         <group colspan="1" col="2">
                            <field name="total"/>
                            <field name="contratista"/>
                            <field name="fechainicio" class="oe_inline"/>
                            <field name="fechatermino" class="oe_inline"/>
                            <field name="periodicidadretencion" class="oe_inline"/>
                            <field name="retencion"/>
                          </group>
                        </group>
                    </page>

                    <page string="Anticipo" class="oe_read_only">
                        <div >

                            <button class="oe_stat_button" type="object" name="AnticipoContrato" context="{
                               'search_default_contrato': active_id,
                               'default_contrato': active_id
                               }" icon="fa-pencil-square-o" string='Ver o Agregar Anticipos' >
                     </button>
                        </div>

                    </page>

                    <page string="Fianzas" class="oe_read_only" >
                        <group string="Fianzas">
                                <field name="tipo_fianza"/>
                                <field name="numero_fianza_fianzas"/>
                                <field name="monto"/>
                                <field name="fecha_fianza_fianzas"/>
                                <field name="afianzadora_fianzas"/>
                        </group>
                    </page>

                     <page string="Deducciones" class="oe_read_only">
                        <group string="Deducciones">
                                <field name="deducciones"/>
                        </group>
                    </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

      <!-- ANTICIPO DE CONTRATOS SEARCH-->
<record model="ir.ui.view" id="proceso_anticipo_contratos_search">
         <field name="name">anticipo contratos</field>
         <field name="model">proceso.anticipo_contratos</field>
         <field name="arch" type="xml">
            <search>
                <field name="contrato"/>
                <field name="fecha_anticipo"/>
                <field name="porcentaje_anticipo"/>
                <field name="total_anticipo_porcentaje"/>
                <field name="anticipo_material"/>
                <field name="importe"/>
                <field name="anticipo"/>
                <field name="iva"/>
                <field name="total_anticipo"/>
                <field name="numero_fianza"/>
                <field name="afianzadora"/>
                <field name="fecha_fianza"/>
            </search>
         </field>
        </record>

      <!-- ANTICIPO DE CONTRATOS TREE-->
<record model="ir.ui.view" id="proc_contratacion.anticipo_tree">
      <field name="name">proceso.anticipo.tree</field>
      <field name="model">proceso.anticipo_contratos</field>
      <field name="arch" type="xml">
        <tree >
          <field name="contrato"/>
          <field name="fecha_anticipo"/>
          <field name="porcentaje_anticipo"/>
          <field name="importe"/>
          <field name="iva"/>
          <field name="total_anticipo"/>
          <field name="numero_fianza"/>
          <field name="afianzadora"/>
          <field name="fecha_fianza"/>
        </tree>
      </field>
    </record>

      <!-- ANTICIPO DE CONTRATOS FORM-->
<record model="ir.ui.view" id="proc_contratacion.anticipo_form">
      <field name="name">proceso.anticipo.form</field>
      <field name="model">proceso.anticipo_contratos</field>
      <field name="arch" type="xml">
        <form>
      <sheet>
          <group colspan="2" col="2">
              <group string="Agregar Anticipo">
                <field name="contrato"/>
                <field name="fecha_anticipo"/>
                <field name="porcentaje_anticipo"/>
                <field name="total_anticipo_porcentaje"/>
                <field name="anticipo_material"/>
                <field name="importe"/>
                <field name="anticipo"/>
                <field name="iva"/>
                <field name="total_anticipo"/>
                <field name="numero_fianza"/>
                <field name="afianzadora"/>
                <field name="fecha_fianza"/>
             </group>
          </group>
      </sheet>
        </form>
      </field>
</record>

    <!-- ACCIONES VENTANA -->
    <record model="ir.actions.act_window" id="proc_contratacion.elaboracion_contrato_action_window">
      <field name="name">Contratos</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">proceso.elaboracion_contrato</field>
      <field name="view_mode">tree,form</field>
    </record>

    <!-- SEGUIMIENTO DE CONTRATOS -->
    <record model="ir.ui.view" id="proc_contratacion.elaboracion_contrato_2">
      <field name="name">proceso.elaboracion_contrato.tree2</field>
      <field name="model">proceso.elaboracion_contrato</field>
      <field name="arch" type="xml">
        <tree create="false">
          <field name="contrato"/>
          <field name="name"/>
          <field name="total" string="Monto"/>
          <field name="fecha"/>
          <field name="contratista" string="Adjudicado"/>
        </tree>
      </field>
    </record>

    <!-- CONCEPTOS CONTRATADOS -->
    <!-- <record model="ir.ui.view" id="proc_contratacion.elaboracion_contrato_3">
      <field name="name">proceso.elaboracion_contrato.tree3</field>
      <field name="model">proceso.elaboracion_contrato</field>
      <field name="arch" type="xml">
        <tree create="false">
            <field name="fecha"/>
            <field name="contrato" string="# Contrato"/>
            <field name="name" string="Objeto"/>
            <field name="total" string="Monto"/>
            <field name="contratista" string="Contratista"/>
        </tree>
      </field>
    </record> -->
    <!-- FORMULARIOS Y TREE DE LAS PARTIDAS CON SUS CATALOGOS -->
      <record id="conceptos_contratados_partidas_form" model="ir.ui.view">
          <field name="name">conceptos contratados form</field>
          <field name="model">proceso.adjudicacion_partidas</field>
          <field name="arch" type="xml">
              <form string="">
                  <sheet>
                      <group colspan="1" col="2" string="Partida:">
                          <field name="obra" readonly="True"/>
                          <field name="programaInversion" readonly="True"/>
                          <field name="monto_partida" readonly="True" widget="monetary"/>
                          <field name="iva_partida" readonly="True" widget="monetary"/>
                          <field name="total_partida" readonly="True" widget="monetary"/>
                      </group>

                     <hr/>
                      <group>

                        <group colspan="2" col="2">
                            <group string="Catálogo de Niveles/Conceptos del Contrato:"></group>
                            <group><field name="name" string="" class="o_light_label"/></group>
                        </group>

                        <group colspan="2" col="3">
                            <group><field name="total" /></group>
                            <group> <field name="total_contrato"/></group>
                            <group><field name="diferencia"  class="o_light_label"/></group>
                        </group>


                        <field name="conceptos_partidas" string="# Concepto de partidas" widget='one2many'>
                            <tree editable="top">
                                <control>
                                    <create string="Agregar Nivel"/>
                                </control>
                                <field name="categoria" />
                                <field name="concepto"/>
                                <field name="grupo"/>
                                <field name="medida"/>
                                <field name="precio_unitario" widget="monetary"/>
                                <field name="cantidad"/>
                                <field name="importe" sum="importe" widget="monetary"/>
                            </tree>
                        </field>
                    </group>
                  </sheet>
              </form>
          </field>
      </record>

     <record model="ir.ui.view" id="proc_contratacion.elaboracion_contrato_3">
      <field name="name">proceso.elaboracion_contrato.tree3</field>
      <field name="model">proceso.adjudicacion_partidas</field>
      <field name="arch" type="xml">
        <tree create="false">
            <field name="obra"/>
            <field name="programaInversion" />
            <field name="monto_partida" />
            <field name="iva_partida" />
            <field name="total_partida" />
        </tree>
      </field>
    </record>


     <!-- ACCIONES PARA ELIMINAR EL BOTON DELETE DE SEGUIMIENTO DE CONTRATO -->
    <!-- <record id="partner_tree_no_delete" model="ir.ui.view">
        <field name="name">contrato.tree.no.delete</field>
        <field name="model">proceso.elaboracion_contrato</field>
        <field name="inherit_id" ref="proc_contratacion.elaboracion_contrato_2" />
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="delete">false</attribute>
            </xpath>
        </field>
    </record> -->

    <!-- ACCIONES PARA ELIMINAR EL BOTON DELETE DE CONCEPTOS DE CONTRATO -->
    <record id="partner_tree_no_delete_concepto" model="ir.ui.view">
        <field name="name">contrato.tree.no.delete.concepto</field>
        <field name="model">proceso.adjudicacion_partidas</field>
        <field name="inherit_id" ref="proc_contratacion.elaboracion_contrato_3" />
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="delete">false</attribute>
            </xpath>
        </field>
    </record>

    <!-- ACTION DE CATALOGO   context="{'default_name': active_id}"-->

<!--
<act_window id="Catalogos"
    name="Ver Catalogós"
    src_model="proceso.adjudicacion_partidas"
    res_model="proceso.conceptos_contratos"
    view_type="form" view_mode="tree,form"
    key2="client_action_multi" target="current"
    /> -->

    <!-- ACCIONES VENTANA -->
    <!--<record model="ir.actions.act_window" id="proc_contratacion.seguimiento_contrato_action_window">
      <field name="name">Seguimiento de Contratos</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">proceso.elaboracion_contrato</field>
      <field name="view_id" ref="proc_contratacion.elaboracion_contrato_2"/>
      <field name="view_mode">tree,form,graph</field>
    </record>-->

  <!-- ACCIONES VENTANA -->
    <record model="ir.actions.act_window" id="proc_contratacion.concepto_contratados_action_window">
      <field name="name">Conceptos de Contratados</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">proceso.adjudicacion_partidas</field>
      <field name="view_id" ref="proc_contratacion.elaboracion_contrato_3"/>
      <field name="view_mode">tree,form</field>
    </record>

    <!-- MENUS -->
      <menuitem name="Elaboración de contratos" id="proc_contratacion.elaboracion_contrato"
                parent="proc_contratacion.menu_root" action="proc_contratacion.elaboracion_contrato_action_window" sequence="4"/>

    <!-- MENUS -->
      <!--<menuitem name="Seguimiento de contratos" id="proc_contratacion.seguimiento_contratos"
                parent="proc_contratacion.menu_root" action="proc_contratacion.seguimiento_contrato_action_window" sequence="5"/>-->

    <!-- MENUS -->
      <menuitem name="Conceptos Contratados" id="proc_contratacion.conceptos_contratados"
                parent="proc_contratacion.menu_root" action="proc_contratacion.concepto_contratados_action_window" sequence="5"/>

</data>
</odoo>