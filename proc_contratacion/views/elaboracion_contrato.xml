<odoo>



  <data>
    <!-- LICITACIONES -->
    <record model="ir.ui.view" id="proc_contratacion.elaboracion_contratos_tree">
      <field name="name">proceso.elaboracion_contrato.tree</field>
      <field name="model">proceso.elaboracion_contrato</field>
      <field name="arch" type="xml">
        <tree>
          <field name="fecha"/>
          <field name="contrato"/>
          <field name="descripcionmeta"/>
          <field name="total"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="proc_contratacion.elaboracion_contrato_form">
      <field name="name">proceso.elaboracion_contrato.form</field>
      <field name="model">proceso.elaboracion_contrato</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
              <div class="oe_button_box oe_read_only" name="button_box">
                      <button name='finiquitarContrato'  type='object' class='btn-primary' icon="fa-clock-o"
                              string="Finiquitar Contrato Anticipadamente"></button>

                      <button name='conveniosModificados'  type='object' class='btn-primary' icon="fa-pencil-square-o"
                              string="Convenios Modificados"></button>
                </div>

            <notebook colspan="4">

                    <page string="Datos Generales">
                         <group>
                          <group string="Contrato Datos Generales" colspan="2" col="2">
                            <field name="name"/>
                            <field name="fecha"/>
                            <field name="contrato"/>
                            <field name="descripcionmeta"/>
                            <field name="descripciontrabajos"/>
                            <field name="unidadresponsableejecucion"/>
                            <field name="supervisionexterna"/>
                            <field name="supervisionexterna1"/>
                            <field name="total"/>
                            <field name="contratista"/>
                            <field name="fechainicio"/>
                            <field name="fechatermino"/>
                            <field name="periodicidadretencion"/>
                            <field name="retencion"/>
                          </group>
                        </group>
                    </page>

                    <page string="Anticipo" class="oe_read_only">
                        <group string="Anticipo">
                                <field name="fecha_anticipo"/>
                                <field name="obra"/>
                                <field name="porcentaje_anticipo"/>
                                <field name="total_anticipo_porcentaje"/>
                                <field name="anticipo_material"/>
                                <field name="importe"/>
                                <field name="anticipo"/>
                                <field name="iva"/>
                                <field name="total_anticipo"/>
                                <field name="numero_fianza"/>
                                <field name="afianzadora"/>
                                <field name="fecha_fianza"/>
                        </group>
                    </page>

                    <page string="Fianzas" class="oe_read_only" >
                        <group string="Fianzas">
                                <field name="tipo_fianza"/>
                                <field name="numero_fianza_fianzas"/>
                                <field name="monto"/>
                                <field name="fecha_fianza_fianzas"/>
                                <field name="afianzadora_fianzas"/>
                        </group>
                    </page>

                     <page string="Deducciones" class="oe_read_only">
                        <group string="Deducciones">
                                <field name="deducciones"/>
                        </group>
                    </page>
            </notebook>


          </sheet>
        </form>
      </field>
    </record>

    <!-- ACCIONES VENTANA -->
    <record model="ir.actions.act_window" id="proc_contratacion.elaboracion_contrato_action_window">
      <field name="name">Contratos</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">proceso.elaboracion_contrato</field>
      <field name="view_mode">tree,form</field>
    </record>



    <!-- SEGUIMIENTO DE CONTRATOS -->
    <record model="ir.ui.view" id="proc_contratacion.elaboracion_contrato_2">
      <field name="name">proceso.elaboracion_contrato.tree2</field>
      <field name="model">proceso.elaboracion_contrato</field>
      <field name="arch" type="xml">
        <tree create="false">
          <field name="contrato"/>
          <field name="descripcionmeta"/>
          <field name="total" string="Monto"/>
          <field name="fecha"/>
          <field name="contratista" string="Adjudicado"/>
        </tree>
      </field>
    </record>




     <!-- ACCIONES PARA ELIMINAR EL BOTON DELETE -->
    <record id="partner_tree_no_delete" model="ir.ui.view">
        <field name="name">contrato.tree.no.delete</field>
        <field name="model">proceso.elaboracion_contrato</field>
        <field name="inherit_id" ref="proc_contratacion.elaboracion_contrato_2" />
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="delete">false</attribute>
            </xpath>
        </field>
    </record>




        <!-- ACTION DE ESTADISTICAS-->
<act_window id="estadisticas_contrato"
    name="Estadisticas"
    src_model="proceso.elaboracion_contrato"
    res_model="proceso.elaboracion_contrato"
    view_type="form" view_mode="form"
    key2="client_action_multi" target="new"
    />

  <!-- ACTION DE LISTADO DETALLADO-->
<act_window id="listado_detallado"
    name="Listado Detallado"
    src_model="proceso.elaboracion_contrato"
    res_model="proceso.elaboracion_contrato"
    view_type="form" view_mode="form"
    key2="client_action_multi" target="new"
    />


    <!-- ACCIONES VENTANA -->
    <record model="ir.actions.act_window" id="proc_contratacion.seguimiento_contrato_action_window">
      <field name="name">Seguimiento de Contratos</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">proceso.elaboracion_contrato</field>
      <field name="view_id" ref="proc_contratacion.elaboracion_contrato_2"/>
      <field name="view_mode">tree</field>
    </record>


    <!-- MENUS -->
      <menuitem name="ElaboraciÃ³n de contratos" id="proc_contratacion.elaboracion_contrato"
                parent="proc_contratacion.menu_root" action="proc_contratacion.elaboracion_contrato_action_window" sequence="4"/>

    <!-- MENUS -->
      <menuitem name="Seguimiento de contratos" id="proc_contratacion.seguimiento_contratos"
                parent="proc_contratacion.menu_root" action="proc_contratacion.seguimiento_contrato_action_window" sequence="5"/>

</data>
</odoo>