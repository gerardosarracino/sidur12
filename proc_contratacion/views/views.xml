<odoo>
  <data>

    <!-- PARTICIPANTES FORM AND TREE -->
    <record model="ir.ui.view" id="proceso_participantes_form">
          <field name="name">proceso.participantes.form</field>
          <field name="model">proceso.participante</field>
          <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                       <group string="Licitantes participantes" colspan="2" col="2">
                           <field name="contratista_participantes"  />
                       </group>
                    </group>
                </sheet>
                </form>
              </field>
        </record>

        <!-- tree view -->
    <record model="ir.ui.view" id="proceso_participantes_tree">
      <field name="name">proceso.participantes.tree</field>
      <field name="model">proceso.participante</field>
      <field name="arch" type="xml">
        <tree>
           <field name="contratista_participantes" string="Licitantes participantes" widget="many2many_tags"/>
        </tree>
      </field>
    </record>



<!-- BOTON CANCELAR -->
<record model="ir.actions.act_window" id="action_cancelar">
        <field name="name">Cancelar</field>
        <field name="res_model">proceso.licitacion</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="proceso_participantes_tree"/>
    </record>

<!-- BOTON PARTICIPANTES -->
<record model="ir.actions.act_window" id="action_participantes">
        <field name="name">Participantes</field>
        <field name="res_model">proceso.participante</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_type">form</field>

        <field name="view_ids" eval="[(5, 0, 0),
    (0, 0, {'view_mode': 'tree', 'view_id': ref('proceso_participantes_tree')}),
    (0, 0, {'view_mode': 'form', 'view_id': ref('proceso_participantes_form')})]"/>
        <field name="target">current</field>
    </record>




    <!-- LICITACIONES -->
    <record model="ir.ui.view" id="proc_contratacion.licitacion_tree">
      <field name="name">proceso.licitacion.tree</field>
      <field name="model">proceso.licitacion</field>
      <field name="arch" type="xml">
        <tree decoration-danger="estado_radio == '2'" decoration-muted="estado_radio == '3'">
          <field name="tipolicitacion" />
          <field name="numerolicitacion"/>
          <field name="convocatoria"/>
          <field name="name"/>
          <field name="normatividad"/>
          <field name="estado_radio" widget="radio" invisible="True"/>
          <field name="fechaoficio" />
        </tree>
      </field>
    </record>


    <record model="ir.ui.view" id="proc_contratacion.licitacion_form">
      <field name="name">proceso.licitacion.form</field>
      <field name="model">proceso.licitacion</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <div class="oe_button_box oe_read_only" name="button_box">
              <button type="action" icon="fa-clipboard" string="Convocatoria / Bases"></button>

              <button type="action" icon="fa-list-ol" string="Ev. Puntos"></button>


              <button name='%(action_participantes)d'  type='action' icon="fa-users" string="Participantes"></button>


              <button type="action" icon="fa-calendar" string="Eventos"></button>

              <button name='%(action_cancelar)d'  type='action'  icon="fa-times-circle" string="Cancelar"></button>

              <button name='desierta'  type='object' class='btn-primary' icon="fa-bitbucket" string="Desierta"></button>
            </div>

            <group string="" >
                <group colspan="1" col="2" string="Estado de la obra">
                    <field name="estado_radio" widget="radio"/>

                    <group string="CANCELADO" attrs="{'invisible': [('estado_radio','!=', '2')]}" colspan="2" col="2">
                        <field name="fecha_cancelado"/>
                        <field name="observaciones_cancelado"/>
                    </group>

                    <group string="DESIERTA" attrs="{'invisible': [('estado_radio','!=', '3')]}" colspan="2" col="2">
                        <field name="fecha_desierta"/>
                        <field name="observaciones_desierta"/>
                    </group>
                </group>
            </group>

            <group>
              <group string="Seleccionar Obra" colspan="1" col="2">
                <field name="programa_inversion" string="Programa de Inversión" />
                <field name="name"/>
              </group>
              <group string="Datos De La Licitación" colspan="1" col="2">
                <field name="tipolicitacion"/>
                <field name="numerolicitacion" />
                <field name="convocatoria"/>
                <field name="fechaconinv"/>
                <field name="caracter"/>
                <field name="normatividad"/>
              </group>
              <group string="Presiden Actos" colspan="1" col="2">
                <field name="funcionariopresideactos"/>
                <field name="puesto"/>
                <field name="numerooficio"/>
                <field name="fechaoficio"/>
                <field name="oficioinvitacioncontraloria"/>
                <field name="fechaoficio2"/>
                <field name="notariopublico"/>
              </group>
              <group string="Datos Generales" colspan="1" col="2">
                <field name="fechalimiteentregabases"/>
                <field name="fecharegistrocompranet"/>
                <field name="costobasesdependencia"/>
                <field name="costocompranetbanco"/>
                <field name="fechaestimadainicio"/>
                <field name="fechaestimadatermino"/>
                <field name="plazodias"/>
                <field name="capitalcontable"/>
                <field name="anticipomaterial"/>
                <field name="anticipoinicio"/>
                <field name="puntosminimospropuestatecnica"/>
              </group>
              <group string="Visita De Obra" colspan="1" col="2">
                <field name="visitafechahora"/>
                <field name="visitalugar"/>
              </group>
              <group string="Junta De Aclaraciones" colspan="1" col="2">
                <field name="juntafechahora"/>
                <field name="juntalugar"/>
              </group>
              <group string="Apertura" colspan="1" col="2">
                <field name="aperturafechahora"/>
                <field name="aperturalugar"/>
              </group>
              <group string="Fallo" colspan="1" col="2">
                <field name="fallofechahora"/>
                <field name="fallolugar"/>

              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>




    <!-- ACCIONES VENTANA -->
    <record model="ir.actions.act_window" id="proc_contratacion.licitacion_action_window">
      <field name="name">Registro de licitaciones</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">proceso.licitacion</field>
      <field name="view_mode">tree,form</field>
    </record>


    <!-- TREE VIEW REPORTE-->
    <record model="ir.ui.view" id="proc_contratacion.licitacion_tree2">
      <field name="name">proceso.licitacion.tree2</field>
      <field name="model">proceso.licitacion</field>
      <field name="arch" type="xml">
        <tree create="false" >
          <field name="numerolicitacion"/>
          <field name="convocatoria"/>
          <field name="name"/>
          <field name="normatividad"/>
          <field name="fechaoficio"/>
        </tree>
      </field>
    </record>

    <!-- TREE VIEW REPORTE-->


     <!-- ACCIONES PARA ELIMINAR EL BOTON DELETE -->
    <record id="licitacion_tree_no_delete" model="ir.ui.view">
        <field name="name">licitacion.tree.no.delete</field>
        <field name="model">proceso.licitacion</field>
        <field name="inherit_id" ref="proc_contratacion.licitacion_tree2" />
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="delete">false</attribute>

            </xpath>
        </field>
    </record>

     <!-- ACCIONES PARA ELIMINAR EL BOTON DELETE -->


    <!-- ACTION DE CALENDARIO DE EVENTOS-->
     <act_window id="calendario_eventos"
    name="Calendario de Eventos"
    src_model="proceso.licitacion"
    res_model="proceso.licitacion"
    view_type="form" view_mode="form"
    key2="client_action_multi" target="new"
    view_id="proc_contratacion.licitacion_tree2"
    />
    <!-- CHEECAAR ARRIBAAAA-->
    <!-- ACTION DE LISTADO DE LICITACIONES-->
<act_window id="listado_licitaciones"
    name="Listado de Licitaciones"
    src_model="proceso.licitacion"
    res_model="proceso.licitacion"
    view_type="form" view_mode="form"
    key2="client_action_multi" target="new"
    view_id="proc_contratacion.licitacion_tree2"
    />



    <!-- ACCIONES VENTANA DE REPORTE -->
    <record model="ir.actions.act_window" id="proc_contratacion.licitacion_action_window2">
      <field name="name">Consulta de licitaciones</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">proceso.licitacion</field>
      <field name="view_id" ref="proc_contratacion.licitacion_tree2"/>
      <field name="view_mode">tree</field>
    </record>



    <!-- MENUS -->
    <menuitem name="Proceso de contratación" id="proc_contratacion.menu_root" sequence="0"/>
    <menuitem name="Registro de licitaciones" id="proc_contratacion.consulta_menu" parent="proc_contratacion.menu_root"
              action="proc_contratacion.licitacion_action_window" sequence="1"/>

     <menuitem name="Consulta de licitaciones" id="proc_contratacion.licitacion_menu"
     parent="proc_contratacion.menu_root" action="proc_contratacion.licitacion_action_window2" sequence="2"/>

    <!-- explicit list view definition -->
    <!--
    <record model="ir.ui.view" id="proc_contratacion.list">
      <field name="name">proc_contratacion list</field>
      <field name="model">proc_contratacion.proc_contratacion</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="value"/>
          <field name="value2"/>
        </tree>
      </field>
    </record>
    -->

    <!-- actions opening views on models -->
    <!--
    <record model="ir.actions.act_window" id="proc_contratacion.action_window">
      <field name="name">proc_contratacion window</field>
      <field name="res_model">proc_contratacion.proc_contratacion</field>
      <field name="view_mode">tree,form</field>
    </record>
    -->

    <!-- server action to the one above -->
    <!--
    <record model="ir.actions.server" id="proc_contratacion.action_server">
      <field name="name">proc_contratacion server</field>
      <field name="model_id" ref="model_proc_contratacion_proc_contratacion"/>
      <field name="state">code</field>
      <field name="code">
        action = {
          "type": "ir.actions.act_window",
          "view_mode": "tree,form",
          "res_model": self._name,
        }
      </field>
    </record>
    -->

    <!-- Top menu item -->
    <!--
    <menuitem name="proc_contratacion" id="proc_contratacion.menu_root"/>
    -->
    <!-- menu categories -->
    <!--
    <menuitem name="Menu 1" id="proc_contratacion.menu_1" parent="proc_contratacion.menu_root"/>
    <menuitem name="Menu 2" id="proc_contratacion.menu_2" parent="proc_contratacion.menu_root"/>
    -->
    <!-- actions -->
    <!--
    <menuitem name="List" id="proc_contratacion.menu_1_list" parent="proc_contratacion.menu_1"
              action="proc_contratacion.action_window"/>
    <menuitem name="Server to list" id="proc_contratacion" parent="proc_contratacion.menu_2"
              action="proc_contratacion.action_server"/>
    -->
  </data>
</odoo>